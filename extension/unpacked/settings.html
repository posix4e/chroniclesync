<!DOCTYPE html>
<html>
<head>
    <title>ChronicleSync Settings</title>
    <link rel="stylesheet" type="text/css" href="settings.css">
</head>
<body>
    <div class="settings-container">
        <h1>ChronicleSync Settings</h1>
        
        <section class="settings-section">
            <h2>Configuration</h2>
            <div id="mnemonicContainer" class="setting-item">
                <label for="mnemonic">Mnemonic Phrase:</label>
                <textarea id="mnemonic" placeholder="Enter your 24-word mnemonic phrase" rows="3" required></textarea>
                <div class="mnemonic-actions">
                    <button id="generateMnemonic" class="secondary-button">Generate New</button>
                    <button id="showMnemonic" class="secondary-button">Show/Hide</button>
                </div>
                <small class="help-text">Your mnemonic phrase is used to generate your unique client ID. Keep it safe!</small>
            </div>
            <div class="setting-item">
                <label for="clientId">Client ID:</label>
                <input type="text" id="clientId" placeholder="Generated from mnemonic" readonly>
            </div>
            <div class="setting-item">
                <label for="environment">Environment:</label>
                <select id="environment" required>
                    <option value="production">Production</option>
                    <option value="staging">Staging</option>
                    <option value="custom">Custom</option>
                </select>
            </div>
            <div id="customUrlContainer" class="setting-item" style="display: none;">
                <label for="customApiUrl">Custom API URL:</label>
                <input type="url" id="customApiUrl" placeholder="https://your-custom-api.com">
                <small class="help-text">Only used when Environment is set to Custom</small>
            </div>
            <div class="setting-item">
                <label for="expirationDays">History Expiration (Days):</label>
                <input type="number" id="expirationDays" min="1" placeholder="7" required>
                <small class="help-text">Number of days to keep history before expiring (minimum 1 day)</small>
            </div>
        </section>

        <section class="settings-section">
            <h2>Summarization</h2>
            <div class="setting-item">
                <label for="summaryEnabled">Enable Summarization:</label>
                <input type="checkbox" id="summaryEnabled">
            </div>
            <div class="setting-item">
                <label for="autoSummarize">Auto-Summarize:</label>
                <input type="checkbox" id="autoSummarize">
                <small class="help-text">Automatically generate summaries for new pages</small>
            </div>
            <div class="setting-item">
                <label for="summaryLength">Summary Length (%):</label>
                <input type="number" id="summaryLength" min="1" max="100" placeholder="30">
                <small class="help-text">Target length of summary as percentage of original text</small>
            </div>
            <div class="setting-item">
                <label for="minSentences">Minimum Sentences:</label>
                <input type="number" id="minSentences" min="1" placeholder="3">
            </div>
            <div class="setting-item">
                <label for="maxSentences">Maximum Sentences:</label>
                <input type="number" id="maxSentences" min="1" placeholder="10">
            </div>
            <div class="setting-item">
                <label>Content Priority:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" id="priorityHeadlines"> Headlines</label>
                    <label><input type="checkbox" id="priorityLists"> Lists</label>
                    <label><input type="checkbox" id="priorityQuotes"> Quotes</label>
                </div>
            </div>
            <div class="setting-item">
                <label for="modelUrl">Model URL:</label>
                <input type="url" id="modelUrl" placeholder="https://tfhub.dev/tensorflow/..." required>
                <small class="help-text">TensorFlow.js model URL for text summarization</small>
            </div>
            <div class="setting-item">
                <label for="inputLength">Input Length:</label>
                <input type="number" id="inputLength" min="1" placeholder="512" required>
                <small class="help-text">Maximum input sequence length</small>
            </div>
            <div class="setting-item">
                <label for="outputLength">Output Length:</label>
                <input type="number" id="outputLength" min="1" placeholder="512" required>
                <small class="help-text">Maximum output sequence length</small>
            </div>
            <div class="setting-item">
                <label for="threshold">Threshold:</label>
                <input type="number" id="threshold" min="0" max="1" step="0.1" placeholder="0.3" required>
                <small class="help-text">Similarity threshold for sentence selection (0-1)</small>
            </div>
        </section>

        <div class="settings-actions">
            <button id="saveSettings" class="primary-button">Save Settings</button>
            <button id="resetSettings" class="reset-settings">Reset to Default</button>
        </div>
    </div>
    <script type="module" src="settings.js"></script>
</body>
</html>